webpackJsonp([22],{"3Xky":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var o={name:"ImportWord",data:function(){return{topic:"",corpus:"",corpusFile:"",cacheCorpusArray:[]}},methods:{addParams:function(){""!=this.topic&&null!=this.topic&&""!=this.corpusFile&&null!=this.corpusFile?(this.cacheCorpusArray.push({topic:this.topic,corpus:this.corpus,corpusFile:this.corpusFile}),this.topic="",this.corpus="",this.corpusFile=null):this.$notify({dangerouslyUseHTMLString:!0,message:'<span style="font-size:15px;color:red;font-weight: bold">以下参数不允许为空</span><br>主题分类、分类文件'})},removeParams:function(t){this.cacheCorpusArray.splice(t,t+1)},subNextStep:function(){var t=this;if(""!=this.topic&&null!=this.topic&&""!=this.corpusFile&&null!=this.corpusFile){null!=this.topic&&""!=this.topic&&null!=this.corpus&&""!=this.corpus&&this.cacheCorpusArray.push({topic:this.topic,corpus:this.corpus,corpusFile:this.corpusFile});var s=new FormData;this.cacheCorpusArray.forEach(function(t,e){s.append("topic"+e,t.topic),s.append("corpus"+e,t.corpusFile.raw)}),this.Request({url:"/model/topic/corpus",method:"post",data:s}).then(function(s){"0"!=s.status?t.Message.error(s.message):t.$emit("nextStep",null)}),this.$emit("nextStep",this.importWords)}else this.$notify({dangerouslyUseHTMLString:!0,message:'<span style="font-size:15px;color:red;font-weight: bold">以下参数不允许为空</span><br>主题分类、主题分类文件'})},corpusFileChange:function(t,s){this.corpus=t.name;var e=this.corpus.lastIndexOf(".");if("txt"!=this.corpus.substr(e+1))return this.$notify.error("错误的文件类型！目前仅支持：txt"),void(this.corpus="");this.corpusFile=s[s.length-1]}}},r={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._l(t.cacheCorpusArray,function(s,o){return e("el-row",[e("el-col",{attrs:{span:8}},[e("el-input",{attrs:{placeholder:"请输入内容",disabled:"true",value:s.topic}},[e("template",{slot:"prepend"},[t._v("主题分类：")])],2)],1),t._v(" "),e("el-col",{attrs:{span:2}}),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-input",{attrs:{placeholder:"请输入内容",disabled:"true",value:s.corpus}},[e("template",{slot:"prepend"},[t._v("主题分类文件：")])],2)],1),t._v(" "),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e("el-button",{attrs:{type:"success",icon:"el-icon-minus",size:"small",circle:""},on:{click:function(s){t.removeParams(o)}}})],1)],1)}),t._v(" "),e("el-row",[e("el-col",{attrs:{span:8}},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.topic,callback:function(s){t.topic=s},expression:"topic"}},[e("template",{slot:"prepend"},[t._v("主题分类：")])],2)],1),t._v(" "),e("el-col",{attrs:{span:2}}),t._v(" "),e("el-col",{attrs:{span:10}},[e("el-input",{attrs:{disabled:!0,placeholder:"请选取主题分类文件"},model:{value:t.corpus,callback:function(s){t.corpus=s},expression:"corpus"}},[e("template",{slot:"append"},[e("el-upload",{ref:"uploadFile",attrs:{"show-file-list":!1,"auto-upload":!1,"on-change":t.corpusFileChange}},[e("el-button",{attrs:{slot:"trigger",size:"small",type:"success"},slot:"trigger"},[e("span",[t._v("选取文件")])])],1)],1)],2)],1),t._v(" "),e("el-col",{staticStyle:{"text-align":"center"},attrs:{span:4}},[e("el-button",{attrs:{type:"success",icon:"el-icon-plus",size:"small",circle:""},on:{click:t.addParams}})],1)],1),t._v(" "),e("el-row",[e("el-col",{staticClass:"base-modal-btns",attrs:{span:24}},[e("el-button",{attrs:{type:"primary"},on:{click:t.subNextStep}},[t._v("下一步")])],1)],1)],2)},staticRenderFns:[]};var i=e("VU/8")(o,r,!1,function(t){e("GvFp")},"data-v-7b24a7a4",null);s.default=i.exports},GvFp:function(t,s){}});
//# sourceMappingURL=22.763a84038a8c93cbda09.js.map