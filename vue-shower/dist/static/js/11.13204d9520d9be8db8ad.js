webpackJsonp([11],{"C/EG":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("fZjL"),o=a.n(s),l=a("28Pe"),r=(a("kzGw"),a("+cKO")),i={name:"SensitiveWordManage",data:function(){return{wordDataList:[],seg:"",tableDataUrl:"jiebaset",currPageNum:1,totalPage:1,showModalPage:!1,isEditModal:!1,editFormData:{name:"",freg:""},addFormData:{name:"",freg:"1"}}},validations:{formData:{freg:{required:r.required},name:{required:r.required}}},computed:{formData:function(){return this.isEditModal?this.editFormData:this.addFormData},modalPageTitle:function(){return this.isEditModal?"修改词条":"新增词条"}},components:{WorkTablePager:l.a},methods:{getTableData:function(t){t&&""!=t?this.currPageNum=t:t=this.currPageNum;var e=this;this.BaseRequest({url:this.tableDataUrl,method:"get",params:{pageindx:t,pagenums:10,seg:this.seg||""}}).then(function(t){e.totalPage=parseInt(t.pagecount),e.refreshTableList(t.datalist)})},refreshTableList:function(t){this.wordDataList=t},delWord:function(t){var e=this;this.BaseRequest({url:this.tableDataUrl,method:"delete",data:{seg:t}}).then(function(t){"0"==t.status?e.Message.success("删除成功"):e.Message.error("删除失败"),e.getTableData()})},openAddModal:function(){this.showModalPage=!0,this.isEditModal=!1},openEditModal:function(t){this.showModalPage=!0,this.isEditModal=!0,this.editFormData=t},closeModal:function(){var t=this;this.showModalPage=!1,this.isEditModal=!1,o()(this.formData).forEach(function(e){t.formData[e]=""})},subWordForm:function(){var t=this;if(!this.checkInputNull()){var e=this.addFormData;this.isEditModal?(e=this.editFormData,this.BaseRequest({url:this.tableDataUrl,method:"put",data:{seg:e.name,freg:e.freg}}).then(function(e){"0"==e.status?t.Message.success("保存成功"):t.Message.error("保存失败"),t.getTableData(),t.closeModal()})):this.BaseRequest({url:"secadd",method:"put",data:{seg:e.name,freg:e.freg}}).then(function(e){"0"==e.status?t.Message.success("保存成功"):t.Message.error("保存失败"),t.getTableData(),t.closeModal()})}},checkInputNull:function(){var t=this.$v.$invalid;return t&&this.$notify({dangerouslyUseHTMLString:!0,message:'<span style="font-size:15px;color:red;font-weight: bold">以下参数不允许为空</span><br>名称、词频'}),t}},mounted:function(){this.wordDataList=[],this.getTableData(1)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{headerItems:["系统管理","敏感词库设置"]}},[a("el-row",{staticClass:"search-row",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{attrs:{placeholder:"输入敏感词"},model:{value:t.seg,callback:function(e){t.seg=e},expression:"seg"}})],1),t._v(" "),a("el-col",{staticClass:"align-left",attrs:{span:17}},[a("el-button",{on:{click:function(e){t.getTableData()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.openAddModal}},[t._v("新增敏感词")])],1)],1),t._v(" "),a("el-row",{staticClass:"table-row"},[a("el-col",{attrs:{span:24}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.wordDataList}},[a("el-table-column",{attrs:{prop:"name",align:"left",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"freg",align:"left",label:"频次"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.openEditModal(e.row)}}},[t._v("设置")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.delWord(e.row.name)}}},[t._v("删除")])]}}])})],1)],1)],1),t._v(" "),a("WorkTablePager",{attrs:{pageCount:t.totalPage},on:{refreshData:t.getTableData}}),t._v(" "),a("el-dialog",{attrs:{title:t.modalPageTitle,visible:t.showModalPage},on:{"update:visible":function(e){t.showModalPage=e}}},[a("el-form",{ref:"editForm",staticClass:"modal-form",attrs:{"label-position":t.left,"label-width":"20%",model:t.formData}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"频次"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.formData.freg,callback:function(e){t.$set(t.formData,"freg",e)},expression:"formData.freg"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeModal}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.subWordForm()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(i,n,!1,function(t){a("N2aA")},"data-v-abd9816a",null);e.default=d.exports},N2aA:function(t,e){}});
//# sourceMappingURL=11.13204d9520d9be8db8ad.js.map